(function(e){function t(t){for(var o,i,l=t[0],s=t[1],c=t[2],p=0,d=[];p<l.length;p++)i=l[p],n[i]&&d.push(n[i][0]),n[i]=0;for(o in s)Object.prototype.hasOwnProperty.call(s,o)&&(e[o]=s[o]);u&&u(t);while(d.length)d.shift()();return r.push.apply(r,c||[]),a()}function a(){for(var e,t=0;t<r.length;t++){for(var a=r[t],o=!0,l=1;l<a.length;l++){var s=a[l];0!==n[s]&&(o=!1)}o&&(r.splice(t--,1),e=i(i.s=a[0]))}return e}var o={},n={app:0},r=[];function i(t){if(o[t])return o[t].exports;var a=o[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=e,i.c=o,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)i.d(a,o,function(t){return e[t]}.bind(null,o));return a},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],s=l.push.bind(l);l.push=t,l=l.slice();for(var c=0;c<l.length;c++)t(l[c]);var u=s;r.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"014c":function(e,t,a){"use strict";var o=a("76be"),n=a.n(o);n.a},"034f":function(e,t,a){"use strict";var o=a("64a9"),n=a.n(o);n.a},"177f":function(e,t,a){"use strict";var o=a("df26"),n=a.n(o);n.a},"3ca6":function(e,t,a){"use strict";var o=a("4eab"),n=a.n(o);n.a},"4eab":function(e,t,a){},"56d7":function(e,t,a){"use strict";a.r(t);a("cadf"),a("551c"),a("f751"),a("097d");var o=a("2b0e"),n=a("5c96"),r=a.n(n),i=a("313e"),l=(a("0fae"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("router-view")],1)}),s=[],c=(a("034f"),a("2877")),u={},p=Object(c["a"])(u,l,s,!1,null,null,null),d=p.exports,m=a("8c4f"),f=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"login-container"},[a("el-form",{ref:"form",staticClass:"login-form",attrs:{rules:e.rules,model:e.form,"label-width":"80px"}},[a("h2",{staticClass:"login-title"},[e._v("管理系统")]),a("el-form-item",{attrs:{label:"帐号",prop:"username"}},[a("el-input",{model:{value:e.form.username,callback:function(t){e.$set(e.form,"username",t)},expression:"form.username"}})],1),a("el-form-item",{attrs:{label:"密码",prop:"password"}},[a("el-input",{attrs:{type:"password"},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1),a("el-form-item",[a("el-button",{staticClass:"submita",attrs:{type:"primary"},on:{click:function(t){return e.submitForm("form")}}},[e._v("登录")])],1)],1),a("el-link",{staticClass:"appfoota",attrs:{href:"http://beian.miit.gov.cn/",target:"_blank"}},[e._v("粤ICP备20070342号-2")])],1)},h=[],g=a("bc3a"),b=a.n(g),v=a("2f62"),y="mxg-msm-token",x="mxg-msm-user";function j(){return localStorage.getItem(y)}function k(e){return localStorage.setItem(y,e)}function w(){return JSON.parse(localStorage.getItem(x))}function $(e){localStorage.setItem(x,JSON.stringify(e))}function _(){localStorage.removeItem(y),localStorage.removeItem(x)}var F={state:{token:j(),user:w()},mutations:{SET_TOKEN:function(e,t){e.token=t,k(t)},SET_USER:function(e,t){e.user=t,$(t)}},actions:{Login:function(e,t){var a=e.commit;return new Promise(function(e,o){z(t.username.trim(),t.password).then(function(t){var o=t.data;a("SET_TOKEN",o.data.token),e(o)}).catch(function(e){o(e)})})},GetUserInfo:function(e){var t=e.commit,a=e.state;return new Promise(function(e,o){N(a.token).then(function(a){var o=a.data;t("SET_USER",o.data),e(o)}).catch(function(e){o(e)})})},Logout:function(e){var t=e.commit,a=e.state;return new Promise(function(e,o){T(a.token).then(function(a){var o=a.data;t("SET_TOKEN",""),t("SET_USER",null),_(),e(o)}).catch(function(e){o(e)})})}}},S=F;o["default"].use(v["a"]);var D=new v["a"].Store({modules:{user:S}}),P=D,M={loadingInstance:null,open:function(){console.log(this.loadingInstance,"loadingInstance"),null===this.loadingInstance&&(console.log("创建加载实例。。。"),this.loadingInstance=n["Loading"].service({target:".main",text:"拼命加载中...",background:"rgba(0, 0, 0, 0.5)"}))},close:function(){null!==this.loadingInstance&&this.loadingInstance.close(),this.loadingInstance=null}},C=b.a.create({baseURL:"/pro-api",timeout:5e3});C.interceptors.request.use(function(e){M.open();var t=P.state.user.token;return console.log("token====",t),t&&(e.headers.Authorization="Bearer ".concat(t)),e},function(e){return M.close(),Promise.reject(e)}),C.interceptors.response.use(function(e){M.close();var t=e.data;return 2e3!==t.code&&Object(n["Message"])({message:t.message||"系统异常",type:"warning",duration:5e3}),e},function(e){return M.close(),console.log("response.error",e.response.status),Object(n["Message"])({message:e.message,type:"error",duration:1e4}),Promise.reject(e)});var E=C;function z(e,t){return E({url:"/user/login",method:"post",data:{username:e,password:t}})}function N(e){return E({url:"/user/info",method:"get",params:{token:e}})}function T(e){return E({url:"/user/logout",method:"post",data:{token:e}})}var I={data:function(){return{form:{username:"",password:""},rules:{username:[{required:!0,message:"帐号不能为空",trigger:"blur"}],password:[{required:!0,message:"密码不能为空",trigger:"blur"}]}}},methods:{submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return console.log("验证失败"),!1;t.$store.dispatch("Login",t.form).then(function(e){console.log("response.flag",e.flag),e.flag?t.$router.push("/"):t.$message({message:e.message,type:"waring"})}).catch(function(e){})})}}},O=I,V=(a("fe29"),Object(c["a"])(O,f,h,!1,null,"4d176a19",null)),A=V.exports,B=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("app-header"),a("app-navbar"),a("app-main")],1)},L=[],q=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"header"},[e._m(0),a("el-dropdown",{on:{command:e.handleCommand}},[a("span",{staticClass:"el-dropdown-link"},[e._v("\n            "+e._s(e.user.name)),a("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{attrs:{icon:"el-icon-edit",command:"a"}},[e._v("修改密码")]),a("el-dropdown-item",{attrs:{icon:"el-icon-s-fold",command:"b"}},[e._v("退出系统")])],1)],1),a("el-dialog",{attrs:{title:"修改密码",visible:e.dialogFormVisible,width:"400px"},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"ruleForm",staticStyle:{width:"300px"},attrs:{model:e.ruleForm,"status-icon":"",rules:e.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"原密码",prop:"oldPass"}},[a("el-input",{attrs:{type:"password",autocomplete:"off"},model:{value:e.ruleForm.oldPass,callback:function(t){e.$set(e.ruleForm,"oldPass",t)},expression:"ruleForm.oldPass"}})],1),a("el-form-item",{attrs:{label:"新密码",prop:"pass"}},[a("el-input",{attrs:{type:"password",autocomplete:"off"},model:{value:e.ruleForm.pass,callback:function(t){e.$set(e.ruleForm,"pass",t)},expression:"ruleForm.pass"}})],1),a("el-form-item",{attrs:{label:"确认密码",prop:"checkPass"}},[a("el-input",{attrs:{type:"password",autocomplete:"off"},model:{value:e.ruleForm.checkPass,callback:function(t){e.$set(e.ruleForm,"checkPass",t)},expression:"ruleForm.checkPass"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("提交")]),a("el-button",{on:{click:function(t){return e.$refs["ruleForm"].resetFields()}}},[e._v("重置")])],1)],1)],1)],1)},U=[function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("a",{attrs:{href:"#/"}},[o("img",{staticClass:"logo",attrs:{src:a("cf05"),width:"25px"}}),o("span",{staticClass:"company"},[e._v("管理系统")])])}],G={checkPwd:function(e,t){return E({url:"/user/pwd",method:"post",data:{userId:e,password:t}})},updatePwd:function(e,t){return E({url:"/user/pwd",method:"put",data:{userId:e,password:t}})}},R={data:function(){var e=this,t=function(t,a,o){G.checkPwd(e.user.id,a).then(function(e){var t=e.data;t.flag?o():o(new Error(t.message))})},a=function(t,a,o){a!==e.ruleForm.pass?o(new Error("两次输入的密码不一致")):o()};return{user:this.$store.state.user.user,dialogFormVisible:!1,ruleForm:{oldPass:"",pass:"",checkPass:""},rules:{oldPass:[{required:!0,message:"原密码不能为空",trigger:"blur"},{validator:t,trigger:"blur"}],pass:[{required:!0,message:"新密码不能为空",trigger:"blur"}],checkPass:[{required:!0,message:"确认密码不能为空",trigger:"blur"},{validator:a,trigger:"change"}]}}},methods:{handleCommand:function(e){switch(e){case"a":this.handlePwd();break;case"b":this.handleLogout();break;default:break}},handleLogout:function(){var e=this;this.$store.dispatch("Logout").then(function(t){t.flag?e.$router.push("/login"):e.$message({message:resp.message,type:"warning",duration:500})})},handlePwd:function(){var e=this;this.dialogFormVisible=!0,this.$nextTick(function(){e.$refs["ruleForm"].resetFields()})},submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;console.log("校验成功"),G.updatePwd(t.user.id,t.ruleForm.checkPass).then(function(e){var a=e.data;t.$message({message:a.message,type:a.flag?"success":"warning"}),a.flag&&(t.handleLogout(),t.dialogFormVisible=!1)})})}}},J=R,Z=(a("177f"),Object(c["a"])(J,q,U,!1,null,"ca13529c",null)),K=Z.exports,H=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"navbar"},[a("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{router:!0,"default-active":e.$route.path,"background-color":"#545c64","text-color":"#fff","active-text-color":"#ffd04b"}},[a("el-menu-item",{attrs:{index:"/home"}},[a("i",{staticClass:"el-icon-s-home"}),a("span",{attrs:{slot:"title"},slot:"title"},[e._v("首页")])]),a("el-menu-item",{attrs:{index:"/member/"}},[a("i",{staticClass:"el-icon-user-solid"}),a("span",{attrs:{slot:"title"},slot:"title"},[e._v("会员管理")])]),a("el-menu-item",{attrs:{index:"/supplier/"}},[a("i",{staticClass:"el-icon-s-cooperation"}),a("span",{attrs:{slot:"title"},slot:"title"},[e._v("供应商管理")])]),a("el-menu-item",{attrs:{index:"/goods/"}},[a("i",{staticClass:"el-icon-s-goods"}),a("span",{attrs:{slot:"title"},slot:"title"},[e._v("商品管理")])]),a("el-menu-item",{attrs:{index:"/staff/"}},[a("i",{staticClass:"el-icon-user"}),a("span",{attrs:{slot:"title"},slot:"title"},[e._v("员工管理")])]),a("el-menu-item",{attrs:{index:"/pic/"}},[a("i",{staticClass:"el-icon-s-marketing"}),a("span",{attrs:{slot:"title"},slot:"title"},[e._v("统计图表")])])],1)],1)},Y=[],Q=(a("3ca6"),{}),W=Object(c["a"])(Q,H,Y,!1,null,"19130221",null),X=W.exports,ee=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"main"},[a("app-link",{directives:[{name:"show",rawName:"v-show",value:"/home"!==e.$route.path,expression:"$route.path !== '/home'"}]}),a("router-view")],1)},te=[],ae=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{staticClass:"line",attrs:{to:{path:e.$route.path}}},[e._v(e._s(e.$route.meta.title))])],1)},oe=[],ne=(a("dfdd"),{}),re=Object(c["a"])(ne,ae,oe,!1,null,"1874e3ef",null),ie=re.exports,le={components:{AppLink:ie}},se=le,ce=Object(c["a"])(se,ee,te,!1,null,null,null),ue=ce.exports,pe={components:{AppHeader:K,AppNavbar:X,AppMain:ue}},de=pe,me=(a("798e"),Object(c["a"])(de,B,L,!1,null,"7d092518",null)),fe=me.exports,he=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},ge=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("h1",[e._v(" 欢迎访问会员系统 ")])])}],be=(a("014c"),{}),ve=Object(c["a"])(be,he,ge,!1,null,"5ce444c8",null),ye=ve.exports,xe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-form",{ref:"searchForm",staticStyle:{"margin-top":"20px"},attrs:{inline:!0,model:e.searchMap}},[a("el-form-item",{attrs:{prop:"cardNum"}},[a("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"会员卡号"},model:{value:e.searchMap.cardNum,callback:function(t){e.$set(e.searchMap,"cardNum",t)},expression:"searchMap.cardNum"}})],1),a("el-form-item",{attrs:{prop:"name"}},[a("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"会员名字"},model:{value:e.searchMap.name,callback:function(t){e.$set(e.searchMap,"name",t)},expression:"searchMap.name"}})],1),a("el-form-item",{attrs:{prop:"payType"}},[a("el-select",{staticStyle:{width:"110px"},attrs:{placeholder:"支付类型"},model:{value:e.searchMap.payType,callback:function(t){e.$set(e.searchMap,"payType",t)},expression:"searchMap.payType"}},e._l(e.payTypeOptions,function(e){return a("el-option",{key:e.type,attrs:{label:e.name,value:e.type}})}),1)],1),a("el-form-item",{attrs:{prop:"birthday"}},[a("el-date-picker",{staticStyle:{width:"200px"},attrs:{"value-format":"yyyy-MM-dd",type:"date",placeholder:"出生日期"},model:{value:e.searchMap.birthday,callback:function(t){e.$set(e.searchMap,"birthday",t)},expression:"searchMap.birthday"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.fetchData}},[e._v("查询")]),a("el-button",{attrs:{type:"primary"},on:{click:e.handleAdd}},[e._v("新增")]),a("el-button",{on:{click:function(t){return e.resetForm("searchForm")}}},[e._v("重置")])],1)],1),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.list,height:"380",border:""}},[a("el-table-column",{attrs:{type:"index",label:"序号",width:"60"}}),a("el-table-column",{attrs:{prop:"cardNum",label:"会员卡号"}}),a("el-table-column",{attrs:{prop:"name",label:"会员姓名",width:"90"}}),a("el-table-column",{attrs:{prop:"birthday",label:"会员生日"}}),a("el-table-column",{attrs:{prop:"phone",label:"手机号码"}}),a("el-table-column",{attrs:{prop:"integral",label:"可用积分"}}),a("el-table-column",{attrs:{prop:"money",label:"开卡金额"}}),a("el-table-column",{attrs:{prop:"payType",label:"支付类型"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e._f("payTypeFilter")(t.row.payType)))])]}}])}),a("el-table-column",{attrs:{prop:"address",label:"会员地址"}}),a("el-table-column",{attrs:{label:"操作",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){return e.handleEdit(t.row.id)}}},[e._v("编辑")]),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return e.handleDelete(t.row.id)}}},[e._v("删除")])]}}])})],1),a("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[10,20,50],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),a("el-dialog",{attrs:{title:"会员编辑",visible:e.dialogFormVisible,width:"500px"},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"pojoForm",staticStyle:{width:"400px"},attrs:{rules:e.rules,"label-width":"100px","label-position":"right",model:e.pojo}},[a("el-form-item",{attrs:{label:"会员卡号",prop:"cardNum"}},[a("el-input",{model:{value:e.pojo.cardNum,callback:function(t){e.$set(e.pojo,"cardNum",t)},expression:"pojo.cardNum"}})],1),a("el-form-item",{attrs:{label:"会员姓名",prop:"name"}},[a("el-input",{model:{value:e.pojo.name,callback:function(t){e.$set(e.pojo,"name",t)},expression:"pojo.name"}})],1),a("el-form-item",{attrs:{label:"会员生日",prop:"birthday"}},[a("el-date-picker",{staticStyle:{width:"200px"},attrs:{"value-format":"yyyy-MM-dd",type:"date",placeholder:"会员生日"},model:{value:e.pojo.birthday,callback:function(t){e.$set(e.pojo,"birthday",t)},expression:"pojo.birthday"}})],1),a("el-form-item",{attrs:{label:"手机号码",prop:"phone"}},[a("el-input",{model:{value:e.pojo.phone,callback:function(t){e.$set(e.pojo,"phone",t)},expression:"pojo.phone"}})],1),a("el-form-item",{attrs:{label:"开卡金额",prop:"money"}},[a("el-input",{model:{value:e.pojo.money,callback:function(t){e.$set(e.pojo,"money",t)},expression:"pojo.money"}})],1),a("el-form-item",{attrs:{label:"可用积分",prop:"integral"}},[a("el-input",{model:{value:e.pojo.integral,callback:function(t){e.$set(e.pojo,"integral",t)},expression:"pojo.integral"}})],1),a("el-form-item",{attrs:{label:"支付类型",prop:"payType"}},[a("el-select",{staticStyle:{width:"110px"},attrs:{placeholder:"支付类型"},model:{value:e.pojo.payType,callback:function(t){e.$set(e.pojo,"payType",t)},expression:"pojo.payType"}},e._l(e.payTypeOptions,function(e){return a("el-option",{key:e.type,attrs:{label:e.name,value:e.type}})}),1)],1),a("el-form-item",{attrs:{label:"会员地址",prop:"address"}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.pojo.address,callback:function(t){e.$set(e.pojo,"address",t)},expression:"pojo.address"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){null===e.pojo.id?e.addData("pojoForm"):e.updateData("pojoForm")}}},[e._v("确 定")])],1)],1)],1)},je=[],ke=(a("7f7f"),a("7514"),a("386d"),{getList:function(){return E({url:"/member/list",method:"get"})},search:function(e,t,a){return E({url:"/member/list/search/".concat(e,"/").concat(t),method:"post",data:a})},add:function(e){return E({url:"/member",method:"post",data:e})},getById:function(e){return E({url:"/member/".concat(e),method:"get"})},update:function(e){return E({url:"/member/".concat(e.id),method:"put",data:e})},deleteById:function(e){return E({url:"/member/".concat(e),method:"delete"})}}),we=[{type:"1",name:"现金"},{type:"2",name:"微信"},{type:"3",name:"支付宝"},{type:"4",name:"银行卡"}],$e={data:function(){return{list:[],total:0,currentPage:1,pageSize:20,searchMap:{cardNum:"",name:"",payType:"",birthday:""},payTypeOptions:we,dialogFormVisible:!1,pojo:{id:null,cardNum:"",name:"",birthday:"",phone:"",money:0,integral:0,payType:"",address:""},rules:{cardNum:[{required:!0,message:"卡号不能为空",trigger:"blur"}],name:[{required:!0,message:"姓名不能为空",trigger:"blur"}],payType:[{required:!0,message:"支付类型不能为空",trigger:"change"}]}}},created:function(){this.fetchData()},methods:{handleSizeChange:function(e){this.pageSize=e,this.fetchData()},handleCurrentChange:function(e){this.currentPage=e,this.fetchData()},fetchData:function(){var e=this;ke.search(this.currentPage,this.pageSize,this.searchMap).then(function(t){var a=t.data;e.list=a.data.rows,e.total=a.data.total})},resetForm:function(e){console.log("重置",e),this.$refs[e].resetFields()},addData:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;console.log("addData"),ke.add(t.pojo).then(function(e){var a=e.data;a.flag?(t.fetchData(),t.dialogFormVisible=!1):t.$message({message:a.message,type:"warning"})})})},handleAdd:function(){var e=this;console.log(this.pojo),this.dialogFormVisible=!0,this.$nextTick(function(){e.$refs["pojoForm"].resetFields(),e.pojo.id=null})},handleEdit:function(e){var t=this;console.log("编辑",e),this.handleAdd(),ke.getById(e).then(function(e){var a=e.data;a.flag&&(t.pojo=a.data,console.log(t.pojo))})},updateData:function(e){var t=this;console.log("updateData"),this.$refs[e].validate(function(e){if(!e)return!1;ke.update(t.pojo).then(function(e){var a=e.data;a.flag?(t.fetchData(),t.dialogFormVisible=!1):t.$message({message:a.message,type:"warning"})})})},handleDelete:function(e){var t=this;console.log("删除",e),this.$confirm("确认删除这条记录吗？","提示",{confirmButtonText:"确认",cancelButtonText:"取消"}).then(function(){console.log("确认"),ke.deleteById(e).then(function(e){var a=e.data;t.$message({message:a.message,type:a.flag?"success":"error"}),a.flag&&t.fetchData()})}).catch(function(){console.log("取消")})}},filters:{payTypeFilter:function(e){var t=we.find(function(t){return t.type===e});return t?t.name:null}}},_e=$e,Fe=Object(c["a"])(_e,xe,je,!1,null,null,null),Se=Fe.exports,De=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-form",{ref:"searchForm",staticStyle:{"margin-top":"20px"},attrs:{inline:!0,model:e.searchMap}},[a("el-form-item",{attrs:{prop:"name"}},[a("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"供应商名称"},model:{value:e.searchMap.name,callback:function(t){e.$set(e.searchMap,"name",t)},expression:"searchMap.name"}})],1),e.isDialog?e._e():a("el-form-item",{attrs:{prop:"linkman"}},[a("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"联系人"},model:{value:e.searchMap.linkman,callback:function(t){e.$set(e.searchMap,"linkman",t)},expression:"searchMap.linkman"}})],1),e.isDialog?e._e():a("el-form-item",{attrs:{prop:"mobile"}},[a("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"联系电话"},model:{value:e.searchMap.mobile,callback:function(t){e.$set(e.searchMap,"mobile",t)},expression:"searchMap.mobile"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.fetchData}},[e._v("查询")]),e.isDialog?e._e():a("el-button",{attrs:{type:"primary"},on:{click:e.handleAdd}},[e._v("新增")]),e.isDialog?e._e():a("el-button",{on:{click:function(t){return e.resetForm("searchForm")}}},[e._v("重置")])],1)],1),a("el-table",{staticStyle:{width:"100%"},attrs:{"highlight-current-row":e.isDialog,data:e.list,height:"380",border:""},on:{"current-change":e.clickCurrentChange}},[a("el-table-column",{attrs:{type:"index",label:"序号",width:"60"}}),a("el-table-column",{attrs:{prop:"name",label:"供应商名称"}}),a("el-table-column",{attrs:{prop:"linkman",label:"联系人",width:"90"}}),e.isDialog?e._e():a("el-table-column",{attrs:{prop:"mobile",label:"联系电话"}}),e.isDialog?e._e():a("el-table-column",{attrs:{prop:"remark",label:"备注"}}),e.isDialog?e._e():a("el-table-column",{attrs:{label:"操作",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){return e.handleEdit(t.row.id)}}},[e._v("编辑")]),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return e.handleDelete(t.row.id)}}},[e._v("删除")])]}}],null,!1,3332384391)})],1),a("el-pagination",{attrs:{layout:e.isDialog?"prev, pager, next":"total, sizes, prev, pager, next, jumper","current-page":e.currentPage,"page-sizes":[10,20,50],"page-size":e.pageSize,total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),e.isDialog?e._e():a("el-dialog",{attrs:{title:"供应商编辑",visible:e.dialogFormVisible,width:"500px"},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"pojoForm",staticStyle:{width:"400px"},attrs:{rules:e.rules,"label-width":"100px","label-position":"right",model:e.pojo}},[a("el-form-item",{attrs:{label:"供应商名称",prop:"name"}},[a("el-input",{model:{value:e.pojo.name,callback:function(t){e.$set(e.pojo,"name",t)},expression:"pojo.name"}})],1),a("el-form-item",{attrs:{label:"联系人",prop:"linkman"}},[a("el-input",{model:{value:e.pojo.linkman,callback:function(t){e.$set(e.pojo,"linkman",t)},expression:"pojo.linkman"}})],1),a("el-form-item",{attrs:{label:"联系电话",prop:"mobile"}},[a("el-input",{model:{value:e.pojo.mobile,callback:function(t){e.$set(e.pojo,"mobile",t)},expression:"pojo.mobile"}})],1),a("el-form-item",{attrs:{label:"备注",prop:"remark"}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.pojo.remark,callback:function(t){e.$set(e.pojo,"remark",t)},expression:"pojo.remark"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){null===e.pojo.id?e.addData("pojoForm"):e.updateData("pojoForm")}}},[e._v("确 定")])],1)],1)],1)},Pe=[],Me={getList:function(){return E({url:"/supplier/list",method:"get"})},search:function(e,t,a){return E({url:"/supplier/list/search/".concat(e,"/").concat(t),method:"post",data:a})},add:function(e){return E({url:"/supplier",method:"post",data:e})},getById:function(e){return E({url:"/supplier/".concat(e),method:"get"})},update:function(e){return E({url:"/supplier/".concat(e.id),method:"put",data:e})},deleteById:function(e){return E({url:"/supplier/".concat(e),method:"delete"})}},Ce={props:{isDialog:Boolean},data:function(){return{list:[],pageSize:10,currentPage:1,total:0,searchMap:{name:"",linkman:"",mobile:""},dialogFormVisible:!1,pojo:{id:null,name:"",linkman:"",mobile:"",remark:""},rules:{name:[{required:!0,message:"供应商不能为空",trigger:"blur"}],linkman:[{required:!0,message:"联系人不能为空",trigger:"blur"}]}}},created:function(){this.fetchData()},methods:{fetchData:function(){var e=this;Me.search(this.currentPage,this.pageSize,this.searchMap).then(function(t){var a=t.data.data;e.list=a.rows,e.total=a.total,console.log(e.list)})},handleSizeChange:function(e){this.pageSize=e,this.fetchData()},handleCurrentChange:function(e){this.currentPage=e,this.fetchData()},resetForm:function(e){this.$refs[e].resetFields()},handleAdd:function(){var e=this;this.dialogFormVisible=!0,this.$nextTick(function(){e.$refs["pojoForm"].resetFields(),e.pojo.id=null})},addData:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;Me.add(t.pojo).then(function(e){var a=e.data;a.flag?(t.fetchData(),t.dialogFormVisible=!1):t.$message({message:a.message,type:"warning"})})})},handleEdit:function(e){var t=this;this.handleAdd(),Me.getById(e).then(function(e){var a=e.data;a.flag?t.pojo=a.data:t.$message({message:a.message,type:"warning"})})},updateData:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;Me.update(t.pojo).then(function(e){var a=e.data;a.flag?(t.fetchData(),t.dialogFormVisible=!1):t.$message({message:a.message,type:"warning"})})})},handleDelete:function(e){var t=this;console.log("删除",e),this.$confirm("确认删除这条记录吗?","提示",{confirmButtonText:"确认",cancleButtonText:"取消"}).then(function(){Me.deleteById(e).then(function(e){var a=e.data;t.$message({message:a.message,type:a.flag?"success":"error"}),a.flag&&t.fetchData()})}).catch(function(){})},clickCurrentChange:function(e){console.log("子组件",e),this.$emit("option-supplier",e)}}},Ee=Ce,ze=Object(c["a"])(Ee,De,Pe,!1,null,null,null),Ne=ze.exports,Te=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-form",{ref:"searchForm",staticStyle:{"margin-top":"20px"},attrs:{inline:!0,model:e.searchMap}},[a("el-form-item",{attrs:{prop:"name"}},[a("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"商品名称"},model:{value:e.searchMap.name,callback:function(t){e.$set(e.searchMap,"name",t)},expression:"searchMap.name"}})],1),a("el-form-item",{attrs:{prop:"code"}},[a("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"商品编号"},model:{value:e.searchMap.code,callback:function(t){e.$set(e.searchMap,"code",t)},expression:"searchMap.code"}})],1),a("el-form-item",{attrs:{prop:"supplierName"}},[a("el-input",{staticStyle:{width:"200px"},attrs:{readonly:"",placeholder:"选择供应商"},nativeOn:{click:function(t){e.dialogSupplierVisible=!0}},model:{value:e.searchMap.supplierName,callback:function(t){e.$set(e.searchMap,"supplierName",t)},expression:"searchMap.supplierName"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.fetchData}},[e._v("查询")]),a("el-button",{attrs:{type:"primary"},on:{click:e.handleAdd}},[e._v("新增")]),a("el-button",{on:{click:function(t){return e.$refs["searchForm"].resetFields()}}},[e._v("重置")])],1)],1),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.list,height:"380",border:""}},[a("el-table-column",{attrs:{type:"index",label:"序号",width:"60"}}),a("el-table-column",{attrs:{prop:"name",label:"商品名称"}}),a("el-table-column",{attrs:{prop:"code",label:"商品编码",width:"90"}}),a("el-table-column",{attrs:{prop:"spec",label:"商品规格"}}),a("el-table-column",{attrs:{prop:"retailPrice",label:"零售价"}}),a("el-table-column",{attrs:{prop:"purchasePrice",label:"进货价"}}),a("el-table-column",{attrs:{prop:"storageNum",label:"库存数量"}}),a("el-table-column",{attrs:{prop:"supplierName",label:"供应商"}}),a("el-table-column",{attrs:{label:"操作",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){return e.handleEdit(t.row.id)}}},[e._v("编辑")]),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return e.handleDelete(t.row.id)}}},[e._v("删除")])]}}])})],1),a("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[10,20,50],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),a("el-dialog",{attrs:{title:"选择供应商",visible:e.dialogSupplierVisible,width:"500px"},on:{"update:visible":function(t){e.dialogSupplierVisible=t}}},[a("supplier",{attrs:{isDialog:!0},on:{"option-supplier":e.optionSupplier}})],1),a("el-dialog",{attrs:{title:"编辑商品",visible:e.dialogFormVisible,width:"500px"},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"pojoForm",staticStyle:{width:"400px"},attrs:{rules:e.rules,"label-width":"100px","label-position":"right",model:e.pojo}},[a("el-form-item",{attrs:{label:"商品名称",prop:"name"}},[a("el-input",{model:{value:e.pojo.name,callback:function(t){e.$set(e.pojo,"name",t)},expression:"pojo.name"}})],1),a("el-form-item",{attrs:{label:"商品编码",prop:"code"}},[a("el-input",{model:{value:e.pojo.code,callback:function(t){e.$set(e.pojo,"code",t)},expression:"pojo.code"}})],1),a("el-form-item",{attrs:{label:"商品规格",prop:"spec"}},[a("el-input",{model:{value:e.pojo.spec,callback:function(t){e.$set(e.pojo,"spec",t)},expression:"pojo.spec"}})],1),a("el-form-item",{attrs:{label:"零售价",prop:"retailPrice"}},[a("el-input",{model:{value:e.pojo.retailPrice,callback:function(t){e.$set(e.pojo,"retailPrice",t)},expression:"pojo.retailPrice"}})],1),a("el-form-item",{attrs:{label:"进货价",prop:"purchasePrice"}},[a("el-input",{model:{value:e.pojo.purchasePrice,callback:function(t){e.$set(e.pojo,"purchasePrice",t)},expression:"pojo.purchasePrice"}})],1),a("el-form-item",{attrs:{label:"库存数量",prop:"storageNum"}},[a("el-input",{model:{value:e.pojo.storageNum,callback:function(t){e.$set(e.pojo,"storageNum",t)},expression:"pojo.storageNum"}})],1),a("el-form-item",{attrs:{label:"供应商",prop:"supplierName"}},[a("el-input",{attrs:{readonly:"",placeholder:"选择供应商"},nativeOn:{click:function(t){return e.editOptionSupplier(t)}},model:{value:e.pojo.supplierName,callback:function(t){e.$set(e.pojo,"supplierName",t)},expression:"pojo.supplierName"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){null===e.pojo.id?e.addData("pojoForm"):e.updateData("pojoForm")}}},[e._v("确 定")])],1)],1)],1)},Ie=[],Oe={search:function(e,t,a){return E({url:"/goods/list/search/".concat(e,"/").concat(t),method:"post",data:a})},add:function(e){return E({url:"/goods",method:"post",data:e})},getById:function(e){return E({url:"/goods/".concat(e),method:"get"})},update:function(e){return E({url:"/goods/".concat(e.id),method:"put",data:e})},deleteById:function(e){return E({url:"/goods/".concat(e),method:"delete"})}},Ve={components:{Supplier:Ne},data:function(){return{list:[],pageSize:10,currentPage:1,total:0,searchMap:{name:"",code:"",supplierName:""},dialogSupplierVisible:!1,dialogFormVisible:!1,rules:{name:[{required:!0,message:"商品名称不能为空",trigger:"blur"}],code:[{required:!0,message:"商品编码不能为空",trigger:"blur"}],retailPrice:[{required:!0,message:"零售价不能为空",trigger:"blur"}]},pojo:{id:null,name:"",code:"",spec:"",retailPrice:0,purchasePrice:0,storageNum:0,supplierName:"",supplierId:null},isEdit:!1}},created:function(){this.fetchData()},methods:{fetchData:function(){var e=this;Oe.search(this.currentPage,this.pageSize,this.searchMap).then(function(t){var a=t.data.data;e.list=a.rows,e.total=a.total})},handleSizeChange:function(e){this.pageSize=e,this.fetchData()},handleCurrentChange:function(e){this.currentPage=e,this.fetchData()},optionSupplier:function(e){console.log("parent",e),this.isEdit?(this.pojo.supplierName=e.name,this.pojo.supplierId=e.id):(this.searchMap.supplierName=e.name,this.searchMap.supplierId=e.id),this.isEdit=!1,this.dialogSupplierVisible=!1},handleAdd:function(){var e=this;this.dialogFormVisible=!0,this.$nextTick(function(){e.$refs["pojoForm"].resetFields(),e.pojo.id=null})},addData:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;Oe.add(t.pojo).then(function(e){var a=e.data;a.flag?(t.fetchData(),t.dialogFormVisible=!1):t.$message({message:a.message,type:"warning"})})})},editOptionSupplier:function(){this.isEdit=!0,this.dialogSupplierVisible=!0},handleEdit:function(e){var t=this;this.handleAdd(),Oe.getById(e).then(function(e){var a=e.data;a.flag&&(t.pojo=a.data)})},updateData:function(e){var t=this;console.log("更新"),this.$refs[e].validate(function(e){if(!e)return!1;Oe.update(t.pojo).then(function(e){var a=e.data;a.flag?(t.fetchData(),t.dialogFormVisible=!1):t.$message({message:a.message,type:"warning"})})})},handleDelete:function(e){var t=this;console.log(e),this.$confirm("确认删除这条记录吗?","提示",{confirmButtonText:"确认",cancleButtonText:"取消"}).then(function(){Oe.deleteById(e).then(function(e){var a=e.data;t.$message({message:a.message,type:a.flag?"success":"error"}),a.flag&&t.fetchData()})}).catch(function(){})}}},Ae=Ve,Be=Object(c["a"])(Ae,Te,Ie,!1,null,null,null),Le=Be.exports,qe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-form",{ref:"searchForm",staticStyle:{"margin-top":"20px"},attrs:{inline:!0,model:e.searchMap}},[a("el-form-item",{attrs:{prop:"username"}},[a("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"帐号"},model:{value:e.searchMap.username,callback:function(t){e.$set(e.searchMap,"username",t)},expression:"searchMap.username"}})],1),a("el-form-item",{attrs:{prop:"name"}},[a("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"姓名"},model:{value:e.searchMap.name,callback:function(t){e.$set(e.searchMap,"name",t)},expression:"searchMap.name"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.fetchData}},[e._v("查询")]),a("el-button",{attrs:{type:"primary"},on:{click:e.handleAdd}},[e._v("新增")]),a("el-button",{on:{click:function(t){return e.resetForm("searchForm")}}},[e._v("重置")])],1)],1),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.list,height:"380",border:""}},[a("el-table-column",{attrs:{type:"index",label:"序号",width:"60"}}),a("el-table-column",{attrs:{prop:"username",label:"帐号"}}),a("el-table-column",{attrs:{prop:"name",label:"姓名",width:"90"}}),a("el-table-column",{attrs:{prop:"age",label:"年龄"}}),a("el-table-column",{attrs:{prop:"mobile",label:"电话"}}),a("el-table-column",{attrs:{prop:"salary",label:"薪酬"}}),a("el-table-column",{attrs:{prop:"entryDate",label:"入职时间"}}),a("el-table-column",{attrs:{label:"操作",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){return e.handleEdit(t.row.id)}}},[e._v("编辑")]),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return e.handleDelete(t.row.id)}}},[e._v("删除")])]}}])})],1),a("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[10,20,50],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),a("el-dialog",{attrs:{title:"员工编辑",visible:e.dialogFormVisible,width:"500px"},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"pojoForm",staticStyle:{width:"400px"},attrs:{rules:e.rules,"label-width":"100px","label-position":"right",model:e.pojo}},[a("el-form-item",{attrs:{label:"帐号",prop:"username"}},[a("el-input",{model:{value:e.pojo.username,callback:function(t){e.$set(e.pojo,"username",t)},expression:"pojo.username"}})],1),a("el-form-item",{attrs:{label:"姓名",prop:"name"}},[a("el-input",{model:{value:e.pojo.name,callback:function(t){e.$set(e.pojo,"name",t)},expression:"pojo.name"}})],1),a("el-form-item",{attrs:{label:"年龄",prop:"age"}},[a("el-input",{model:{value:e.pojo.age,callback:function(t){e.$set(e.pojo,"age",t)},expression:"pojo.age"}})],1),a("el-form-item",{attrs:{label:"电话",prop:"mobile"}},[a("el-input",{model:{value:e.pojo.mobile,callback:function(t){e.$set(e.pojo,"mobile",t)},expression:"pojo.mobile"}})],1),a("el-form-item",{attrs:{label:"薪酬",prop:"salary"}},[a("el-input",{model:{value:e.pojo.salary,callback:function(t){e.$set(e.pojo,"salary",t)},expression:"pojo.salary"}})],1),a("el-form-item",{attrs:{label:"入职时间",prop:"entryDate"}},[a("el-date-picker",{staticStyle:{width:"200px"},attrs:{"value-format":"yyyy-MM-dd",placeholder:"选择入职时间",type:"date"},model:{value:e.pojo.entryDate,callback:function(t){e.$set(e.pojo,"entryDate",t)},expression:"pojo.entryDate"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){null===e.pojo.id?e.addData("pojoForm"):e.updateData("pojoForm")}}},[e._v("确 定")])],1)],1)],1)},Ue=[],Ge={search:function(e,t,a){return E({url:"/staff/list/search/".concat(e,"/").concat(t),method:"post",data:a})},add:function(e){return E({url:"/staff",method:"post",data:e})},getById:function(e){return E({url:"/staff/".concat(e),method:"get"})},update:function(e){return E({url:"/staff/".concat(e.id),method:"put",data:e})},deleteById:function(e){return E({url:"/staff/".concat(e),method:"delete"})}},Re={data:function(){return{list:[],pageSize:10,currentPage:1,total:0,searchMap:{username:"",name:""},dialogFormVisible:!1,pojo:{id:null,username:"",name:"",age:null,mobile:"",salary:"",entryDate:null},rules:{username:[{required:!0,message:"帐号不能为空",trigger:"blur"}],name:[{required:!0,message:"姓名不能为空",trigger:"blur"}]}}},created:function(){this.fetchData()},methods:{fetchData:function(){var e=this;Ge.search(this.currentPage,this.pageSize,this.searchMap).then(function(t){var a=t.data.data;e.list=a.rows,e.total=a.total})},handleSizeChange:function(e){this.pageSize=e,this.fetchData()},handleCurrentChange:function(e){console.log("页码",e),this.currentPage=e,this.fetchData()},resetForm:function(e){this.$refs[e].resetFields()},handleAdd:function(){var e=this;this.dialogFormVisible=!0,this.$nextTick(function(){e.$refs["pojoForm"].resetFields(),e.pojo.id=null})},addData:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;Ge.add(t.pojo).then(function(e){var a=e.data;a.flag?(t.$message({message:"新增成功, 初始密码为:123456",type:"warning"}),t.fetchData(),t.dialogFormVisible=!1):t.$message({message:a.message,type:"warning"})})})},handleEdit:function(e){var t=this;this.handleAdd(),Ge.getById(e).then(function(e){var a=e.data;a.flag?t.pojo=a.data:t.$message({message:a.message,type:"warning"})})},updateData:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;Ge.update(t.pojo).then(function(e){var a=e.data;a.flag?(t.fetchData(),t.dialogFormVisible=!1):t.$message({message:a.message,type:"warning"})})})},handleDelete:function(e){var t=this;console.log("删除",e),this.$confirm("确认删除这条记录吗?","提示",{confirmButtonText:"确认",cancleButtonText:"取消"}).then(function(){Ge.deleteById(e).then(function(e){var a=e.data;t.$message({message:a.message,type:a.flag?"success":"error"}),a.flag&&t.fetchData()})}).catch(function(){})}}},Je=Re,Ze=Object(c["a"])(Je,qe,Ue,!1,null,null,null),Ke=Ze.exports,He=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{ref:"barPic1",staticClass:"echart-sup"}),a("div",{ref:"barPic2",staticClass:"echart-sup2"}),a("div",{ref:"linePic",staticClass:"echart-sup3"}),a("div",{staticClass:"echart-goods"})])},Ye=[],Qe={search:function(){return E({url:"/goods/pics",method:"get"})}},We={name:"index",data:function(){return{}},mounted:function(){var e=this;this.$nextTick(function(){e.fetchData()})},methods:{fetchData:function(){var e=this.$echarts.init(this.$refs.barPic1);e.setOption({title:{text:"商品条形图"},grid:{width:"50%",height:"50%"},legend:{data:[]},xAxis:{axisLabel:{interval:0},data:[]},yAxis:{},series:[{name:"商品",type:"bar",data:[]}]});var t=[],a=[];e.showLoading(),Qe.search().then(function(o){for(var n=o.data.data,r=0;r<n.length;r++)t.push(n[r].name);for(r=0;r<n.length;r++)a.push(n[r].storageNum);setTimeout(function(){e.hideLoading(),e.setOption({title:{text:"商品图"},dataset:{source:{name:t,storageNum:a}},grid:{width:"50%",height:"50%"},legend:{data:t},xAxis:{data:t,axisLabel:{interval:0}},series:[{name:"商品",type:"bar",encode:{x:"name",y:"storageNum"},data:a}]})},1e3)}).catch(function(e){console.log(e+"请尝试一次")});var o=this.$echarts.init(this.$refs.barPic2);o.setOption({title:{text:"商品图",subtext:"条形图"},grid:{width:"46%",height:"80%",left:"3%",right:"4%",bottom:"3%",containLabel:!0},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:{data:[]},xAxis:{position:"left",axisLabel:{interval:0},boundaryGap:[0,.01],data:[]},yAxis:{type:"category"},series:[{name:"商品",type:"bar",data:[]}]});var n=[],r=[];o.showLoading(),Qe.search().then(function(e){for(var t=e.data.data,a=0;a<t.length;a++)n.push(t[a].name);for(a=0;a<t.length;a++)r.push(t[a].storageNum);setTimeout(function(){o.hideLoading(),o.setOption({title:{text:"商品图",subtext:"条形图"},grid:{width:"46%",height:"80%",left:"3%",right:"4%",bottom:"3%",containLabel:!0},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:{data:n},xAxis:{position:"left",boundaryGap:[0,.01],axisLabel:{interval:0},data:n},yAxis:{type:"category"},series:[{name:"商品",type:"bar",encode:{x:"name2",y:"storageNum2"},data:r}]})},1e3)}).catch(function(e){console.log(e+"请尝试一次")});for(var i=+new Date(2021,2,16),l=864e5,s=[[i,300*Math.random()]],c=this.$echarts.init(this.$refs.linePic),u=1;u<2e4;u++){var p=new Date(i+=l);s.push([[p.getFullYear(),p.getMonth()+1,p.getDate()].join("/"),Math.round(20*(Math.random()+.5)+s[u-1][1])])}c.setOption({title:{text:"商品折线图",subtext:"折线图"},tooltip:{trigger:"axis",position:function(e){return[e[0],"10%"]}},toolbox:{feature:{dataZoom:{yAxisIndex:"none"},restore:{},saveAsImage:{}}},xAxis:{axisLabel:{interval:0},boundaryGap:!1,data:[]},yAxis:{type:"category",boundaryGap:[0,"100%"],data:[]},dataZoom:[{type:"inside",start:0,end:20},{start:0,end:20}],series:[{name:"商品",type:"line",encode:{x:"name3",y:"storageNum3"},smooth:!0,symbol:"none",areaStyle:{},data:[]}]});var d=[],m=[];c.showLoading(),Qe.search().then(function(e){for(var t=e.data.data,a=0;a<t.length;a++)d.push(t[a].name);for(a=0;a<t.length;a++)m.push(t[a].storageNum);setTimeout(function(){c.hideLoading(),c.setOption({title:{text:"商品折线图",subtext:"折线图"},tooltip:{trigger:"axis",position:function(e){return[e[0],"10%"]}},toolbox:{feature:{dataZoom:{yAxisIndex:"none"},restore:{},saveAsImage:{}}},xAxis:{axisLabel:{interval:0},boundaryGap:!1,data:d},yAxis:{type:"category",boundaryGap:[0,"100%"],data:m},dataZoom:[{type:"inside",start:0,end:20},{start:0,end:20}],series:[{name:"商品",type:"line",encode:{x:"name3",y:"storageNum3"},smooth:!0,symbol:"none",areaStyle:{},data:m}]})},1e3)}).catch(function(e){console.log(e+"请尝试一次")})}}},Xe=We,et=(a("b011"),Object(c["a"])(Xe,He,Ye,!1,null,"4a8f6be0",null)),tt=et.exports;o["default"].use(m["a"]);var at=new m["a"]({routes:[{path:"/login",name:"login",component:A},{path:"/",name:"layout",component:fe,redirect:"/home",children:[{path:"/home",component:ye,meta:{title:"首页"}}]},{path:"/member",component:fe,children:[{path:"/",component:Se,meta:{title:"会员管理"}}]},{path:"/supplier",component:fe,children:[{path:"/",component:Ne,meta:{title:"供应商管理"}}]},{path:"/goods",component:fe,children:[{path:"/",component:Le,meta:{title:"商品管理"}}]},{path:"/staff",component:fe,children:[{path:"/",component:Ke,meta:{title:"员工管理"}}]},{path:"/pic",component:fe,children:[{path:"/",component:tt,meta:{title:"统计图表"}}]}]});at.beforeEach(function(e,t,a){var o=P.state.user.token;if(console.log("token",o),o)if("/login"===e.path)a();else{var n=P.state.user.user;console.log("userInfo",n),n?a():(console.log("获取用户信息"),P.dispatch("GetUserInfo").then(function(e){e.flag?a():a({path:"/login"})}).catch(function(e){}))}else"/login"!==e.path?a({path:"/login"}):a()}),o["default"].use(r.a),o["default"].prototype.$echarts=i,o["default"].config.productionTip=!0,console.log(Object({NODE_ENV:"production",VUE_APP_BASE_API:"/pro-api",BASE_URL:"/"}).VUE_APP_SERVICE_URL),new o["default"]({router:at,store:P,echarts:i,render:function(e){return e(d)}}).$mount("#app")},"64a9":function(e,t,a){},"76be":function(e,t,a){},"798e":function(e,t,a){"use strict";var o=a("7c27"),n=a.n(o);n.a},"7c27":function(e,t,a){},8190:function(e,t,a){},"973f":function(e,t,a){},b011:function(e,t,a){"use strict";var o=a("dbba"),n=a.n(o);n.a},cf05:function(e,t,a){e.exports=a.p+"img/logo.c06d93f1.png"},dbba:function(e,t,a){},df26:function(e,t,a){},dfdd:function(e,t,a){"use strict";var o=a("8190"),n=a.n(o);n.a},fe29:function(e,t,a){"use strict";var o=a("973f"),n=a.n(o);n.a}});